:root{
  --bg:#eef2f6;
  --panel:#f7fafc;
  --accent:#3b82f6;
  --cell-size:min(8vmin,48px);
}
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0; font-family:Inter,system-ui,Segoe UI,Roboto,Arial,sans-serif; background:linear-gradient(180deg,var(--bg),#ffffff); color:#0f172a; -webkit-font-smoothing:antialiased;
}
.app{min-height:100vh; display:flex; flex-direction:column; align-items:center; justify-content:center; gap:18px; padding:24px}
.game-header{display:flex; align-items:center; justify-content:space-between; width:100%; max-width:720px; background:var(--panel); padding:12px 18px; border-radius:12px; box-shadow:0 6px 20px rgba(15,23,42,0.08);}
.game-header .left, .game-header .center, .game-header .right{display:flex; align-items:center}
.timer{font-weight:700; background:#0f172a; color:#fff; padding:8px 12px; border-radius:8px; font-variant-numeric:tabular-nums}
.reset{width:54px; height:42px; border-radius:10px; border:none; background:linear-gradient(180deg,#fff,#f1f5f9); font-size:20px; box-shadow:0 4px 8px rgba(2,6,23,0.06); cursor:pointer; display:inline-flex; align-items:center; justify-content:center; padding:0 8px; line-height:1; vertical-align:middle}
.theme-toggle{width:42px; height:36px; border-radius:8px; border:none; background:transparent; font-size:18px; cursor:pointer}
.flags{font-weight:600}

/* flash when trying to add too many flags */
.flags.flash{animation:flash 0.6s ease}
@keyframes flash{0%{transform:translateY(0); color:inherit}20%{transform:translateY(-4px); color:#b91c1c}60%{transform:translateY(2px)}100%{transform:translateY(0); color:inherit}}

.board-wrapper{width:100%; max-width:720px; display:flex; justify-content:center}
.board{display:grid; gap:8px; width:min(90vmin,640px); background:transparent; grid-template-columns:repeat(var(--cols), 1fr); padding:12px; box-sizing:border-box}
.cell{appearance:none; border:0; outline:0; cursor:pointer; display:inline-grid; place-items:center; font-weight:700; font-size:1rem; user-select:none; aspect-ratio:1/1; border-radius:8px}
.cell.closed{background:linear-gradient(180deg,#f8fafc,#e6eef9); box-shadow:4px 6px 12px rgba(2,6,23,0.06), inset 0 -4px 6px rgba(255,255,255,0.6)}
.cell.open{background:linear-gradient(180deg,#ffffff,#f8fafc); box-shadow:inset 0 1px 0 rgba(255,255,255,0.6); color:#0f172a}
.cell.flagged{background:linear-gradient(180deg,#fff6f6,#fff1e6)}
.cell.mine{background:linear-gradient(180deg,#fff5f5,#ffecec); color:#b91c1c}
.cell.exploded{background:linear-gradient(180deg,#ffefef,#ffd6d6); box-shadow:0 0 0 3px rgba(185,28,28,0.12) inset}

.cell.open{border:1px solid rgba(15,23,42,0.04)}
.cell.open:nth-child(n) { font-weight:600 }

/* number colors */
.cell.open[data-number='1'], .cell.open:contains('1'){ color:#2563eb }
.cell.open:contains('2'){ color:#16a34a }
.cell.open:contains('3'){ color:#ef4444 }

.note{color:#475569; font-size:13px}

/* Responsive adjustments */
@media (max-width:480px){
  .game-header{padding:10px}
  .reset{width:46px; height:36px}
  .board{gap:6px; padding:8px}
  :root{--cell-size:9vmin}
}

/* make grid items square and scalable */
.board .cell{height:calc( (min(90vmin,640px) - (var(--cols) - 1)*8px - 24px) / var(--cols) );}

/* Game Over overlay */
.overlay{position:fixed; inset:0; display:flex; align-items:center; justify-content:center; background:linear-gradient(180deg, rgba(2,6,23,0.48), rgba(2,6,23,0.6)); z-index:1000}
.overlay.hidden{display:none}
.overlay-panel{background:linear-gradient(180deg,#fff,#fbfdff); padding:28px 34px; border-radius:14px; text-align:center; box-shadow:0 20px 50px rgba(2,6,23,0.36); max-width:90%;}
.overlay-title{font-size:40px; margin:0 0 8px; color:#b91c1c}
.overlay-sub{margin:0 0 18px; color:#334155}
.reset.large{padding:12px 20px; font-size:16px; border-radius:10px}

/* Game Over button: prettier */
.overlay-panel .reset.large{
  display:inline-flex; align-items:center; gap:10px; padding:14px 22px; font-size:18px; font-weight:700;
  border-radius:12px; border:none; cursor:pointer;
  background: linear-gradient(90deg,#ff7a7a,#ff4d4d); color:white;
  box-shadow: 0 8px 30px rgba(255,77,77,0.28), 0 2px 6px rgba(0,0,0,0.12);
  transform:translateY(0); transition:transform 220ms cubic-bezier(.2,.9,.3,1), box-shadow 220ms ease;
  white-space:nowrap;
}
.overlay-panel .reset.large:hover{ transform:translateY(-4px); box-shadow: 0 14px 40px rgba(255,77,77,0.32); }
.overlay-panel .reset.large:active{ transform:translateY(-1px); }

/* icon inside button (inline) and outline handled by ::after */

/* pop animation when overlay appears */
@keyframes popIn{ 0%{ transform: scale(.86) translateY(6px); opacity:0 } 60%{ transform: scale(1.03) translateY(-6px); opacity:1 } 100%{ transform: scale(1) translateY(0); opacity:1 } }
.overlay:not(.hidden) .overlay-panel{ animation: popIn 360ms cubic-bezier(.2,.9,.3,1); }

/* Full outline/frame around the button */
.overlay-panel .reset.large{ position:relative; z-index:1 }
/* icon is replaced by the emoji inside the button itself */
.overlay-panel .reset.large::after{
  content:''; position:absolute; inset:-14px; border-radius:20px; z-index:0;
  pointer-events:none;
  /* visible stroke around the button */
  border: 3px solid rgba(255,77,77,0.20);
  box-shadow: 0 0 0 6px rgba(255,77,77,0.04), 0 0 30px rgba(255,77,77,0.06) inset;
}

.overlay-panel .reset.large:hover::after{ border-color: rgba(255,77,77,0.34); box-shadow: 0 0 0 8px rgba(255,77,77,0.06), 0 12px 40px rgba(255,77,77,0.10); }


/* Dark theme overrides */
body.dark-theme{ background: linear-gradient(180deg,#071022,#04101a); color:#e6eef8 }
body.dark-theme .game-header{ background:#071425; box-shadow:0 6px 20px rgba(0,0,0,0.6) }
body.dark-theme .timer{ background:#0b1220; color:#fff }
body.dark-theme .reset{ background:linear-gradient(180deg,#0b1220,#071022); color:#e6eef8 }
body.dark-theme .flags{ color:#e6eef8 }
/* dark theme uses existing component overrides; no extra rules needed here */
body.dark-theme .cell.closed{ background:linear-gradient(180deg,#0c1622,#08121a); box-shadow:4px 6px 12px rgba(0,0,0,0.6), inset 0 -4px 6px rgba(255,255,255,0.02); color:#dbeafe }
body.dark-theme .cell.open{ background:linear-gradient(180deg,#071827,#0b2536); color:#e6eef8; border:1px solid rgba(255,255,255,0.04) }
body.dark-theme .cell.flagged{ background:linear-gradient(180deg,#2b1212,#3b1010) }
body.dark-theme .cell.mine{ background:linear-gradient(180deg,#3b0b0b,#2b0b0b); color:#ffb4b4 }
body.dark-theme .overlay-panel{ background:linear-gradient(180deg,#071425,#031018); color:#e6eef8; box-shadow:0 20px 50px rgba(0,0,0,0.6) }

/* smooth theme transition */
body, .cell, .game-header, .overlay-panel{ transition: background-color 260ms ease, color 260ms ease, box-shadow 260ms ease }

/* Small editable corner note */
.corner-note{
  position:fixed;
  right:12px;
  bottom:12px;
  font-size:12px;
  color:rgba(15,23,42,0.75);
  background:transparent;
  padding:6px 8px;
  border-radius:8px;
  max-width:28vw;
  min-width:80px;
  text-align:right;
  cursor:default;
  opacity:0.9;
  z-index:1100;
  user-select:text;
}
.corner-note:hover{ outline:2px solid rgba(59,130,246,0.06); box-shadow:0 6px 18px rgba(11,22,40,0.04); background:rgba(255,255,255,0.01); }

body.dark-theme .corner-note{ color:rgba(230,238,248,0.9); }

@media (max-width:480px){ .corner-note{ right:8px; bottom:8px; font-size:11px; max-width:40vw } }


